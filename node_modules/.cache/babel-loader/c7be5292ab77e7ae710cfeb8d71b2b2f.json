{"ast":null,"code":"var vm = require('vm');\n\nmodule.exports = function safeEval(code, context, opts) {\n  var sandbox = {};\n  var resultKey = 'SAFE_EVAL_' + Math.floor(Math.random() * 1000000);\n  sandbox[resultKey] = {};\n  code = resultKey + '=' + code;\n\n  if (context) {\n    Object.keys(context).forEach(function (key) {\n      sandbox[key] = context[key];\n    });\n  }\n\n  vm.runInNewContext(code, sandbox, opts);\n  return sandbox[resultKey];\n};","map":null,"metadata":{},"sourceType":"script"}